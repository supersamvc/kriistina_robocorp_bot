# üóÑÔ∏è –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è Kriistina Bot

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏

1. ‚úÖ Supabase CLI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. ‚úÖ –ü—Ä–æ–µ–∫—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ Project Reference –∏–∑ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ [app.supabase.com](https://app.supabase.com)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí General**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Reference ID** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `abcdefghijklmnop`)

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ CLI –∫ –ø—Ä–æ–µ–∫—Ç—É

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_PROJECT_REF –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Reference ID
supabase link --project-ref YOUR_PROJECT_REF
```

**–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è** –≤–≤–µ–¥–∏—Ç–µ database password, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

### –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–π –±–∞–∑–µ
supabase db push
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π
supabase migration list

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
supabase db status
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –≤ –≤–∞—à–µ–π Supabase –±–∞–∑–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `user_styles` - –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π —Å—Ç–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `generation_history` - –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `users` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `style_slots` - –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å—Ç–∏–ª—è (premium)
- ‚úÖ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `get_active_user_style()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç–∏–ª—è

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí API**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Project URL**: `https://your-project-ref.supabase.co`
   - **Anon key**: –¥–ª—è frontend (React app)
   - **Service role key**: –¥–ª—è backend (Lambda —Ñ—É–Ω–∫—Ü–∏–∏) - **–°–ï–ö–†–ï–¢–ù–´–ô!**

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- **Service role key** –æ–±—Ö–æ–¥–∏—Ç RLS - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ Lambda —Ñ—É–Ω–∫—Ü–∏—è—Ö
- **Anon key** —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ RLS - –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è frontend
- –ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- –í—Å–µ –∫–ª—é—á–∏ –ø–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –≤ AWS Secrets Manager

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Invalid project ref"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å project reference
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–µ–∫—Ç—É

### –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å database password
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ Settings ‚Üí Database

### –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `supabase/migrations/001_initial_schema.sql`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ syntax SQL –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

## üìû –ì–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π —Å–æ–æ–±—â–∏—Ç–µ, –∏ –º—ã:
1. –ù–∞—Å—Ç—Ä–æ–∏–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è Telegram
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º —Å Lambda —Ñ—É–Ω–∫—Ü–∏—è–º–∏
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è 